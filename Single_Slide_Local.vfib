{"name":"Single Slide Local","type":"virtual_device","properties":{"deviceIcon":1002,"categories":"[\"other\"]","currentIcon":"1002","log":"","logTemp":"","mainLoop":"","ui.Label1.value":"","ui.Slider1.value":56,"visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Slide 1 ","name":"Label1","favourite":false,"main":false}]},{"type":"button","elements":[{"id":2,"lua":true,"waitForResponse":false,"caption":"Open","name":"Button21","empty":false,"msg":"-- create deviceID for retrieving self\nlocal deviceID = fibaro:getSelfId()\nslideScene = fibaro:getGlobal('Slidescene')\n\n-- list slidenumber here\nslideToCommand = fibaro:getValue(deviceID, 'IPAddress')\n\n-- Pass the butto command to the function\ncommand = \"open\"\n\nif slideToCommand ~= nil then\nfibaro:startScene(slideScene, {\"controlSlide\", slideToCommand, command})\n\nelse fibaro:debug(\"No slides found to control\")  \nend","buttonIcon":1003,"favourite":false,"main":false},{"id":3,"lua":true,"waitForResponse":false,"caption":"Close","name":"Button22","empty":false,"msg":"-- create deviceID for retrieving self\nlocal deviceID = fibaro:getSelfId()\nslideScene = fibaro:getGlobal('Slidescene')\n\n-- list slidenumber here\nslideToCommand = fibaro:getValue(deviceID, 'IPAddress')\n\n-- Pass the butto command to the function\ncommand = \"close\"\n\nif slideToCommand ~= nil then\nfibaro:startScene(slideScene, {\"controlSlide\", slideToCommand, command})\n\nelse fibaro:debug(\"No slides found to control\")  \nend","buttonIcon":1004,"favourite":false,"main":false}]},{"type":"slider","elements":[{"id":4,"lua":true,"waitForResponse":false,"caption":"Curtain rail","name":"Slider1","msg":"-- create deviceID for retrieving self\nlocal deviceID = fibaro:getSelfId()\n\n-- list slidenumber here\nslideToCommand = fibaro:getValue(deviceID, 'IPAddress')\n\n-- retrieve global variables if they are there\nslideScene = fibaro:getGlobal('Slidescene')\nsliderPosition = fibaro:getValue(deviceID, \"ui.Slider1.value\")\nconvertedToSlide = sliderPosition / 100\n\n-- use the label value to get the technical id\ncommand = convertedToSlide\n\nif slideToCommand ~= nil then\nfibaro:startScene(slideScene, {\"controlSlide\", slideToCommand, command})\n\nelse fibaro:debug(\"No slides found to control\")  \nend","buttonIcon":1005,"value":56,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}